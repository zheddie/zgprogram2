<!DOCTYPE html>
<html>
    <head>
        <title>MyNote</title>

<!-- jquery, bootstrap -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- codemirror -->
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/codemirror.min.css" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/theme/blackboard.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/theme/monokai.min.css">
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/codemirror.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/codemirror/5.41.0/mode/xml/xml.min.js"></script>
        <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script> -->
    
        <!-- <link href="summernote-0.8.18.dist/summernote-bs4.min.css" rel="stylesheet">
        <script src="summernote-0.8.18.dist/summernote-bs4.min.js"></script> -->
<!-- include summernote css/js -->
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

        <script src='./home.js'></script>
    </head>
    <body>

    <table width="100%" border="0">
        <tr>
        <td colspan="2"> 
            <table><tr><!--td>
            <button  id="go" class="btn btn-primary" onclick="go()" type="button" >GO!</button>
            </td-->
            <td>
            <form target="remember" action="about:blank"  onsubmit="return go()">
            <!-- <form onsubmit="return go()"> -->
            <button type="submit" class="btn btn-primary">GO!</button>
            <input id="searchinput" type="text" onmouseover="this.select()" size=60 autocomplete="on"> </input>
            <!-- <input id="searchinput" type="text" size=50  > -->
            <input id="contentchk" type="checkbox" ><label for="contentsearch">SearchContent</label></input>
            </form>
            <script type="text/javascript">
                var inp = document.getElementById("searchinput");
                inp.addEventListener('keyup', function (e) {
                    //console.log(e.key+e.keyCode);
                    if (e.key === 'Enter' || e.keyCode === 13) {
                        // console.log("log before go!");
                        go();
                    }
                });
                // console.log("log from index.html");
            </script>
            <!-- <input type="checkbox"id="cbtitle" onclick="check_title()">Title</input>
            <input type="checkbox"id="cbtags" onclick="check_title()">Tags</input> -->
        </td></tr></table>
        </td>
    </tr>
    <tr><td valign="top" >
        <br><h3 color="green">MyNote</h3><br>
        <div style="width:320px; max-width:420px;" id="searchResult"></div>
        <script>go()</script>
    </td>
    <td style="vertical-align:top">
        <div style="width:1520px; max-width:1520px;" id="main">
        <table width="100%" height="100%" border="0">
            <tr><td width="80"><button id="save" class="btn btn-primary"  onclick="UpdateNote()" >SAVE</button></td>
                <td width="150"><h5 id="time"></h5></td>
                <td><button id="addnew" class="btn btn-primary" onclick="addnew()">Add</button></td>
                <td><input type='file' onchange='onChooseFile(event, onFileLoad.bind(this, "contents"))' /><p hidden id="contents" ></p></td>
                <td><button id="delete" class="btn btn-danger" onclick="deleteNote()">Delete</button></td>
                </tr>
            <tr><td colspan="6"><input id="title" size=100><lable id="accessdate"></lable></td></tr>
            <tr><td colspan="6">
            <div style="width:320px; max-width:320px;" id="summernote" ></div>
            <!-- <div id="summernote" ></div> -->

        </td></tr></table>
    </div>
    </td>
    </tr>
    </table>
    <script type="text/javascript">
        // $(document).ready(function() {
        //     $('#summernote').summernote();
        // });
        $('#summernote').summernote({
          placeholder: 'No note is selected.',
          tabsize: 2,
          height: 800,
          followingToolbar: true,
          //airMode:true,
          toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline','strikethrough', 'superscript', 'subscript', 'clear']],
            ['fontname', ['fontname']],
            ['fontsize', ['fontsize']],
            ['color', ['color']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'picture', 'video']],
            ['view', ['fullscreen', 'codeview', 'help']],
            ]
        });
        $('#summernote').summernote({focus: true});
        $('#summernote').summernote({
            onChange: function() { document.pendingchange = true; }    // callback as option 
        });
        // onChange callback
        $('#summernote').summernote({
        callbacks: {
            onChange: function(contents, $editable) {
            console.log('onChange:', contents, $editable);
            }
        }
        });
        
        // summernote.change
        $('#summernote').on('summernote.change', function(we, contents, $editable) {
        // console.log('summernote\'s content is changed.');
        document.pendingchange = true;
        });
        // var markupStr = 'hello world';
        // $('#summernote').summernote('code', markupStr);
        
    </script>
    <iframe id="remember" name="remember" class="hidden" visibility="hidden" display="none" ></iframe>
    </body>
</html>
